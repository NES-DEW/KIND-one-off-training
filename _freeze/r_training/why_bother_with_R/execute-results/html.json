{
  "hash": "de5fd6f284722dc346b65d1a2f7bd05c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: Why bother with R?\ndate: 2024-06-03\nexecute: \n  echo: true\n  eval: true\n  freeze: auto\n  output: \"markup\"\ncategories: [R, beginner, pre-beginner]\neditor_options: \n  chunk_output_type: console\nbibliography: references.bib\n---\n\n::: {.cell layout-align=\"left\"}\nNo feedback found for this session\n:::\n\n\n## Session outline\n\n-   this session is ðŸ¥¬ - a non-technical introduction for pre-beginners\n-   two minute overview of R\n-   one minute history of R\n-   five use cases in H&SC\n-   R code and practice and a bit of R vs not-R\n-   next steps and training\n\n## A brief overview of R\n\n> R is a free software environment for statistical computing and graphics ([r-project.org](https://www.r-project.org/about.html))\n\n-   free and open-source\n-   multiplatform\n-   large user base\n-   prominent in health, industry, biosciences\n\n### Who owns R?\n\n-   [R Foundation](https://www.r-project.org/foundation/)\n    -   Maintains [CRAN](https://cran.r-project.org/mirrors.html)\n    -   Links with [FSF](https://www.fsf.org/)\n\n### Architecture\n\n-   R is modular\n-   [20 thousand + packages](https://cran.r-project.org/web/packages/)\n-   Enormous [scope of applications](https://cran.r-project.org/web/packages/available_packages_by_date.html)\n-   Design questions often hinge on finding the right package\n-   e.g. this presentation was created in R Quarto using [Revealjs](https://quarto.org/docs/presentations/revealjs/)\n-   So there's a good reason that R can be confusing: it's not one thing, but many\n\n### A brief history of R\n\n-   it starts with the [S](https://en.wikipedia.org/wiki/S_(programming_language)) programming language\n\n    > Aimed: to \"turn ideas into software, quickly and faithfully\" [@chambers1998]\n\n-   Robert Gentleman and Ross Ihaka [@ihaka1998r]\n    -   Interest in extending the tools available in [S](https://en.wikipedia.org/wiki/S_(programming_language))\n    -   Early transition to free software model\n    -   1997 \"core group\"\n\n## Use cases\n\n### Statistical testing\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\n|college   |finrela       |\n|:---------|:-------------|\n|degree    |below average |\n|no degree |below average |\n|degree    |below average |\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(infer)\nchisq_test(gss, college ~ finrela) |>\n  knitr::kable()\n```\n\n::: {.cell-output-display}\n\n\n| statistic| chisq_df|  p_value|\n|---------:|--------:|--------:|\n|  30.68252|        5| 1.08e-05|\n\n\n:::\n:::\n\n\nchi-squared test of independence using [@infer]\n\n### PRISMA 2020 flow diagrams\n\n\n::: {.cell}\n\n:::\n\n\n![PRISMA flow diagram](images/clipboard-3433967081.png)\n\nPRISMA flow diagram using PRISMA2020 [@PRISMA2020]\n\n### Mapping\n\n![Choropleth map using geojsonio](images/clipboard-1120687975.png)\n\nChoropleth map using [geojsonio](https://cran.r-project.org/web/packages/geojsonio/index.html)\n\n### Posters\n\n![Conference poster using posterdown](images/clipboard-4046306589.png)\n\nConference poster using posterdown [@posterdown], waffle [@waffle], and ggalluvial [@ggalluvial]\n\n### Natural language processing / wordclouds\n\n![Sentiment analysis with wordcloud](images/clipboard-3781022281.png)\n\nSentiment analysis with wordcloud using tidytext [@tidytext], [lexicon](https://github.com/trinker/lexicon), [sentimentr](https://github.com/trinker/sentimentr), and [wordcloud](https://cran.r-project.org/web/packages/wordcloud/index.html)\n\n## Uses\n\n### Who is using it?\n\n-   PHS\n-   widely across SG\n-   sporadically used across NHSS boards\n\n### Why are they using it?\n\n-   to replace troublesome systems\n    -   SPSS and other propriatary systems (licencing costs)\n    -   replacing end-of-life systems (Access e.g.)\n-   to harmonise analysis across a team (common analysis platform)\n-   SG committment to open-source code under [DSSS](https://www.gov.scot/publications/digital-scotland-service-standard/pages/11--make-new-source-code-open/)\n\n### Simplifying analysis\n\n(looking at you, Excel...)\n\n-   R separates data from analysis\n-   \"there's a package for...\"\n-   reproducible analysis\n-   collaboration\n- XmR charts in Excel and in R are a useful object lesson...\n\n#### XmR charts in Excel (front)\n\n![XmR charts (front)](images/clipboard-1441622568.png)\n\n#### XmR charts in Excel (back)\n\n![XmR charts (back)](images/clipboard-3971449425.png)XmR charts (R)\n\n#### XmR charts in R\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(NHSRplotthedots)\n\nreadr::read_csv(\"data/spc/spc2.csv\") |>\n    mutate(date = lubridate::dmy(date)) |>\n    ptd_spc(members, date, target=50, fix_after_n_points=20) \n```\n\n::: {.cell-output-display}\n![](why_bother_with_R_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n## R and not-R\n\n-   Excel - pain curve...\n-   Power BI - dashboard, data, built-in to M365 licences\n-   Tableau - specialist, cost\n-   Python\n-   (hundreds of proprietary data analysis platforms)\n\n## Pain curves \n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](why_bother_with_R_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![](why_bother_with_R_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n## R code in practice\n\n-   really interesting data on [poisonous books](https://docs.google.com/spreadsheets/d/1KJNYbdFh058-yDEI61IjfVmFWb_qhSZ1/edit#gid=1917687209) (via [Data is Plural](https://www.data-is-plural.com/))\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load the downloaded data\nbooks <- readr::read_csv(\"data/ArsenicalBooks_CSVtoshare_2024-05-04.xlsx - EmeraldGreenBooks.csv\") |>\n  mutate(Date = as.numeric(Date)) \n```\n:::\n\n\n-   we've got data about 266 books\n-   the oldest book in the set is from 1797, and the youngest from 1892\n\n### Where are the poisonous bits of books?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks |>\n  count(`Arsenical Material`, sort = T) |>\n  slice(1:7) |>\n  knitr::kable() \n```\n\n::: {.cell-output-display}\n\n\n|Arsenical Material     |   n|\n|:----------------------|---:|\n|bookcloth              | 130|\n|paper cover            |  49|\n|decorative green onlay |  19|\n|textblock edges        |  16|\n|paper covering         |   5|\n|paper over boards      |   5|\n|paper spine label      |   5|\n\n\n:::\n:::\n\n\n### When were poisonous books a thing?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks |>\n  ggplot() +\n  geom_histogram(aes(x = Date), binwidth = 10) \n```\n\n::: {.cell-output-display}\n![](why_bother_with_R_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n### Where were poisonous books a thing?\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbooks |>\n  tidyr::separate(Imprint, into = c(\"City\", \"Publisher\"), sep = \": \") |>\n  count(City) |>\n  slice_max(n, n = 5) |>\n  knitr::kable() \n```\n\n::: {.cell-output-display}\n\n\n|City         |  n|\n|:------------|--:|\n|London       | 69|\n|New York     | 29|\n|Boston       | 18|\n|Edinburgh    | 16|\n|Philadelphia | 16|\n\n\n:::\n:::\n\n\n## Next steps\n\n-   self-paced\n    -   [Swirl](https://swirlstats.com/)\n    -   [**R4DS**](https://r4ds.hadley.nz//) [@R4DS]\n    -   write/fail/[stackoverflow](https://stackoverflow.com/questions/tagged/r) cycle\n    -   [PHS Data Science Knowledge Base](https://public-health-scotland.github.io/knowledge-base/)\n-   KIND Learning Network training\n    -   introductory R and Rmarkdown - [code](https://github.com/bclarke-nes/Introductory-R-and-Rmarkdown)/[info](https://learn.nes.nhs.scot/62249)\n    -   intermediate R - [code](https://github.com/bclarke-nes/Intermediate-R)/[info](https://learn.nes.nhs.scot/64644)\n\n## R beginners club\n\n-   social learning on Teams to get you started in R\n-   see [schedule and materials on our community pages](https://nes-dew.github.io/KIND-community-standards/rbc/about.html)\n-   all welcome and aimed at complete R beginners\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}